<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>vCard - Personal Portfolio</title>

  <!-- favicon -->
  <link rel="shortcut icon" href="./assets/images/logo.ico" type="image/x-icon">

  <!-- theme css -->
  <link rel="stylesheet" href="./assets/css/style.css">

  <!-- google fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>

<body>

  <!-- #MAIN -->
  <main>

    <!-- #SIDEBAR -->
    <aside class="sidebar" data-sidebar>
      <div class="sidebar-info">
        <figure class="avatar-box">
          <img src="./assets/images/my-avatar.png" alt="Richard hanrick" width="80">
        </figure>

        <div class="info-content">
          <h1 class="name" title="Richard hanrick">Richard hanrick</h1>
          <p class="title">Web developer</p>
        </div>

        <button class="info_more-btn" data-sidebar-btn>
          <span>Show Contacts</span>
          <ion-icon name="chevron-down"></ion-icon>
        </button>
      </div>

      <div class="sidebar-info_more">
        <div class="separator"></div>

        <ul class="contacts-list">
          <li class="contact-item">
            <div class="icon-box"><ion-icon name="mail-outline"></ion-icon></div>
            <div class="contact-info">
              <p class="contact-title">Email</p>
              <a href="mailto:richard@example.com" class="contact-link">richard@example.com</a>
            </div>
          </li>

          <li class="contact-item">
            <div class="icon-box"><ion-icon name="phone-portrait-outline"></ion-icon></div>
            <div class="contact-info">
              <p class="contact-title">Phone</p>
              <a href="tel:+12133522795" class="contact-link">+1 (213) 352-2795</a>
            </div>
          </li>

          <li class="contact-item">
            <div class="icon-box"><ion-icon name="calendar-outline"></ion-icon></div>
            <div class="contact-info">
              <p class="contact-title">Birthday</p>
              <time datetime="1982-06-23">June 23, 1982</time>
            </div>
          </li>

          <li class="contact-item">
            <div class="icon-box"><ion-icon name="location-outline"></ion-icon></div>
            <div class="contact-info">
              <p class="contact-title">Location</p>
              <address>Sacramento, California, USA</address>
            </div>
          </li>
        </ul>

        <div class="separator"></div>

        <ul class="social-list">
          <li class="social-item"><a href="#" class="social-link"><ion-icon name="logo-facebook"></ion-icon></a></li>
          <li class="social-item"><a href="#" class="social-link"><ion-icon name="logo-twitter"></ion-icon></a></li>
          <li class="social-item"><a href="#" class="social-link"><ion-icon name="logo-instagram"></ion-icon></a></li>
        </ul>
      </div>
    </aside>

    <!-- #main-content -->
    <div class="main-content">

      <!-- #NAVBAR -->
      <nav class="navbar">
        <ul class="navbar-list">
          <li class="navbar-item"><button class="navbar-link active" data-nav-link>About</button></li>
          <li class="navbar-item"><button class="navbar-link" data-nav-link>Resume</button></li>
          <li class="navbar-item"><button class="navbar-link" data-nav-link>Portfolio</button></li>
          <li class="navbar-item"><button class="navbar-link" data-nav-link>Blog</button></li>
          <li class="navbar-item"><button class="navbar-link" data-nav-link>Contact</button></li>
        </ul>
      </nav>

      <!-- #ABOUT -->
      <article class="about active" data-page="about">
        <header><h2 class="h2 article-title">About me</h2></header>

        <section class="about-text">
          <p>
            I'm Creative Director and UI/UX Designer from Sydney, Australia, working in web development and print media.
            I enjoy turning complex problems into simple, beautiful and intuitive designs.
          </p>
          <p>
            My job is to build your website so that it is functional and user-friendly but at the same time attractive.
            Moreover, I add personal touch to your product and make sure that is eye-catching and easy to use.
          </p>
        </section>

        <!-- service -->
        <section class="service">
          <h3 class="h3 service-title">What i'm doing</h3>
          <ul class="service-list">
            <li class="service-item">
              <div class="service-icon-box"><img src="./assets/images/icon-design.svg" alt="design icon" width="40"></div>
              <div class="service-content-box"><h4 class="h4 service-item-title">Web design</h4><p class="service-item-text">The most modern and high-quality design made at a professional level.</p></div>
            </li>
            <li class="service-item">
              <div class="service-icon-box"><img src="./assets/images/icon-dev.svg" alt="Web development icon" width="40"></div>
              <div class="service-content-box"><h4 class="h4 service-item-title">Web development</h4><p class="service-item-text">High-quality development of sites at the professional level.</p></div>
            </li>
            <li class="service-item">
              <div class="service-icon-box"><img src="./assets/images/icon-app.svg" alt="mobile app icon" width="40"></div>
              <div class="service-content-box"><h4 class="h4 service-item-title">Mobile apps</h4><p class="service-item-text">Professional development of applications for iOS and Android.</p></div>
            </li>
            <li class="service-item">
              <div class="service-icon-box"><img src="./assets/images/icon-photo.svg" alt="camera icon" width="40"></div>
              <div class="service-content-box"><h4 class="h4 service-item-title">Photography</h4><p class="service-item-text">I make high-quality photos of any category at a professional level.</p></div>
            </li>
          </ul>
        </section>

        <!-- testimonials -->
        <section class="testimonials">
          <h3 class="h3 testimonials-title">Testimonials</h3>
          <ul class="testimonials-list has-scrollbar">
            <li class="testimonials-item">
              <div class="content-card" data-testimonials-item>
                <figure class="testimonials-avatar-box"><img src="./assets/images/avatar-1.png" alt="Daniel lewis" width="60" data-testimonials-avatar></figure>
                <h4 class="h4 testimonials-item-title" data-testimonials-title>Daniel lewis</h4>
                <div class="testimonials-text" data-testimonials-text><p>Great work.</p></div>
              </div>
            </li>
            <!-- ...demais itens originais... -->
          </ul>
        </section>

        <!-- testimonials modal (original do tema) -->
        <div class="modal-container" data-modal-container>
          <div class="overlay" data-overlay></div>
          <section class="testimonials-modal">
            <button class="modal-close-btn" data-modal-close-btn><ion-icon name="close-outline"></ion-icon></button>
            <div class="modal-img-wrapper">
              <figure class="modal-avatar-box"><img src="./assets/images/avatar-1.png" alt="Daniel lewis" width="80" data-modal-img></figure>
              <img src="./assets/images/icon-quote.svg" alt="quote icon">
            </div>
            <div class="modal-content">
              <h4 class="h3 modal-title" data-modal-title>Daniel lewis</h4>
              <time datetime="2021-06-14">14 June, 2021</time>
              <div data-modal-text><p>…</p></div>
            </div>
          </section>
        </div>

        <!-- clients -->
        <section class="clients">
          <h3 class="h3 clients-title">Clients</h3>
          <ul class="clients-list has-scrollbar">
            <li class="clients-item"><a href="#"><img src="./assets/images/logo-1-color.png" alt="client logo"></a></li>
            <!-- ...demais logos... -->
          </ul>
        </section>
      </article>

      <!-- #RESUME -->
      <article class="resume" data-page="resume">
        <header><h2 class="h2 article-title">Resume</h2></header>
        <!-- conteúdo original do tema mantido -->
        <!-- ... -->
      </article>

      <!-- #PORTFOLIO -->
      <article class="portfolio" data-page="portfolio">
        <header><h2 class="h2 article-title">Portfolio</h2></header>

        <section class="projects">
          <!-- filtros originais do tema (mantidos) -->
          <ul class="filter-list">
            <li class="filter-item"><button class="active" data-filter-btn>All</button></li>
            <li class="filter-item"><button data-filter-btn>Web design</button></li>
            <li class="filter-item"><button data-filter-btn>Applications</button></li>
            <li class="filter-item"><button data-filter-btn>Web development</button></li>
          </ul>

          <div class="filter-select-box">
            <button class="filter-select" data-select>
              <div class="select-value" data-selecct-value>Select category</div>
              <div class="select-icon"><ion-icon name="chevron-down"></ion-icon></div>
            </button>
            <ul class="select-list">
              <li class="select-item"><button data-select-item>All</button></li>
              <li class="select-item"><button data-select-item>Web design</button></li>
              <li class="select-item"><button data-select-item>Applications</button></li>
              <li class="select-item"><button data-select-item>Web development</button></li>
            </ul>
          </div>

          <!-- A UL abaixo será preenchida dinamicamente; os itens de exemplo foram removidos -->
          <ul class="project-list"></ul>
        </section>
      </article>

      <!-- #BLOG -->
      <article class="blog" data-page="blog">
        <header><h2 class="h2 article-title">Blog</h2></header>
        <!-- conteúdo original do tema mantido -->
        <!-- ... -->
      </article>

      <!-- #CONTACT -->
      <article class="contact" data-page="contact">
        <header><h2 class="h2 article-title">Contact</h2></header>

        <section class="mapbox" data-mapbox>
          <figure>
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d199666.5651251294!2d-121.58334177520186!3d38.56165006739519!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x809ac672b28397f9%3A0x921f6aaa74197fdb!2sSacramento%2C%20CA%2C%20USA!5e0!3m2!1sen!2sbd!4v1647608789441!5m2!1sen!2sbd"
              width="400" height="300" loading="lazy"></iframe>
          </figure>
        </section>

        <section class="contact-form">
          <h3 class="h3 form-title">Contact Form</h3>
          <form action="#" class="form" data-form>
            <div class="input-wrapper">
              <input type="text" name="fullname" class="form-input" placeholder="Full name" required data-form-input>
              <input type="email" name="email" class="form-input" placeholder="Email address" required data-form-input>
            </div>
            <textarea name="message" class="form-input" placeholder="Your Message" required data-form-input></textarea>
            <button class="form-btn" type="submit" disabled data-form-btn>
              <ion-icon name="paper-plane"></ion-icon>
              <span>Send Message</span>
            </button>
          </form>
        </section>
      </article>
    </div>
  </main>

  <!-- theme js -->
  <script src="./assets/js/script.js"></script>

  <!-- ionicons -->
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>

  <!-- ======= ADIÇÃO: preencher Portfolio a partir do projects.json ======= -->
  <script>
  (async () => {
    const listEl = document.querySelector('.project-list');
    if (!listEl) return;

    // Mapeia suas tags técnicas para as 3 categorias do tema (para os filtros funcionarem).
    const TAG_TO_CATEGORY = {
      'JS': 'web development',
      'NodeJS': 'web development',
      'Python': 'applications',
      'HTML/CSS': 'web design',
      'PowerBI': 'applications',
      'SQL': 'applications',
      'Java': 'web development'
    };

    // util
    const esc = (s) => (s || '').replace(/[&<>"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c]));

    try {
      const res = await fetch('projects.json', { cache: 'no-cache' });
      if (!res.ok) throw new Error('HTTP ' + res.status);
      const projects = await res.json();
      // limpa os exemplos (se houver)
      listEl.innerHTML = '';

      // ordena por nome (ou ajuste para data se seu projects.json tiver)
      projects.sort((a,b) => esc(a.name).localeCompare(esc(b.name)));

      const html = projects.map(it => {
        const name = it.name || 'Projeto sem nome';
        const liveUrl = it.pathUrl || '#';
        const codeUrl = it.codeUrl || liveUrl;
        const tags = Array.isArray(it.tags) ? it.tags : [];
        const mainTag = tags[0] || 'web development';
        const category = TAG_TO_CATEGORY[mainTag] || 'web development';

        const img = it.meta && it.meta.imageUrl ? it.meta.imageUrl : './assets/images/project-placeholder.png';
        const catText = tags.length ? tags.join(' • ') : 'Web development';

        return `
          <li class="project-item active" data-filter-item data-category="${esc(category)}">
            <a href="${esc(liveUrl)}" target="_blank" rel="noreferrer">
              <figure class="project-img" style="height:200px; overflow:hidden; background:#0f172a; display:flex; align-items:center; justify-content:center;">
                <div class="project-item-icon-box">
                  <ion-icon name="eye-outline"></ion-icon>
                </div>
                <img src="${esc(img)}" alt="${esc(name)}" loading="lazy"
                     style="width:100%; height:100%; object-fit:contain; object-position:center; display:block;"/>
              </figure>
              <h3 class="project-title">${esc(name)}</h3>
              <p class="project-category">${esc(catText)}</p>
            </a>
          </li>`;
      }).join('');

      listEl.insertAdjacentHTML('beforeend', html);

      // Reaplica o script de filtro do tema (ele lê data-category/texto dos botões)
      // Como mantivemos os nomes "Web design / Applications / Web development", tudo funciona.
    } catch (e) {
      console.warn('[portfolio] Falha ao carregar projects.json:', e);
      // fallback: mostra uma mensagem simples
      listEl.innerHTML = `
        <li class="project-item active" data-filter-item data-category="web development">
          <a href="#">
            <figure class="project-img">
              <div class="project-item-icon-box"><ion-icon name="alert-circle-outline"></ion-icon></div>
              <img src="./assets/images/project-placeholder.png" alt="placeholder" loading="lazy">
            </figure>
            <h3 class="project-title">Sem projetos no momento</h3>
            <p class="project-category">Verifique se o projects.json foi gerado no deploy</p>
          </a>
        </li>`;
    }
  })();
  </script>
</body>
</html>
